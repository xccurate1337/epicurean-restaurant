from django.contrib import admin
from django.utils.html import format_html
from .models import *


@admin.register(–ö–∞—Ç–µ–≥–æ—Ä–∏—è)
class –ö–∞—Ç–µ–≥–æ—Ä–∏—èAdmin(admin.ModelAdmin):
    list_display = ['–Ω–∞–∑–≤–∞–Ω–∏–µ', '–∏–∫–æ–Ω–∫–∞', '–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ_–±–ª—é–¥', '–∞–∫—Ç–∏–≤–Ω–æ', '—Å–æ–∑–¥–∞–Ω–æ']
    list_filter = ['–∞–∫—Ç–∏–≤–Ω–æ', '—Å–æ–∑–¥–∞–Ω–æ']
    search_fields = ['–Ω–∞–∑–≤–∞–Ω–∏–µ', '–æ–ø–∏—Å–∞–Ω–∏–µ']
    list_editable = ['–∞–∫—Ç–∏–≤–Ω–æ']
    prepopulated_fields = {'slug': ('–Ω–∞–∑–≤–∞–Ω–∏–µ',)}
    readonly_fields = ['—Å–æ–∑–¥–∞–Ω–æ', '–æ–±–Ω–æ–≤–ª–µ–Ω–æ']

    def –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ_–±–ª—é–¥(self, obj):
        return obj.–±–ª—é–¥–∞.count()

    –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ_–±–ª—é–¥.short_description = '–ë–ª—é–¥'


@admin.register(–ë–ª—é–¥–æ)
class –ë–ª—é–¥–æAdmin(admin.ModelAdmin):
    list_display = ['–Ω–∞–∑–≤–∞–Ω–∏–µ', '–∫–∞—Ç–µ–≥–æ—Ä–∏—è', '—Ç–µ–∫—É—â–∞—è_—Ü–µ–Ω–∞', '–∞–∫—Ü–∏—è', '–ø–æ–ø—É–ª—è—Ä–Ω–æ—Å—Ç—å', '–∞–∫—Ç–∏–≤–Ω–æ', '—Å–æ–∑–¥–∞–Ω–æ']
    list_filter = ['–∫–∞—Ç–µ–≥–æ—Ä–∏—è', '—Ç–∏–ø_–±–ª—é–¥–∞', '–∞–∫—Ü–∏—è', '–∞–∫—Ç–∏–≤–Ω–æ', '—Å–æ–∑–¥–∞–Ω–æ']
    search_fields = ['–Ω–∞–∑–≤–∞–Ω–∏–µ', '–æ–ø–∏—Å–∞–Ω–∏–µ', '—Å–æ—Å—Ç–∞–≤']
    list_editable = ['–∞–∫—Ü–∏—è', '–∞–∫—Ç–∏–≤–Ω–æ']
    readonly_fields = ['–ø–æ–ø—É–ª—è—Ä–Ω–æ—Å—Ç—å', '—Å–æ–∑–¥–∞–Ω–æ', '–æ–±–Ω–æ–≤–ª–µ–Ω–æ']
    prepopulated_fields = {'slug': ('–Ω–∞–∑–≤–∞–Ω–∏–µ',)}
    filter_horizontal = []

    fieldsets = (
        ('–û—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è', {
            'fields': ('–∫–∞—Ç–µ–≥–æ—Ä–∏—è', '—Ç–∏–ø_–±–ª—é–¥–∞', '–Ω–∞–∑–≤–∞–Ω–∏–µ', 'slug', '–æ–ø–∏—Å–∞–Ω–∏–µ')
        }),
        ('–¶–µ–Ω—ã', {
            'fields': ('—Ü–µ–Ω–∞', '–∞–∫—Ü–∏—è', '—Ü–µ–Ω–∞_—Å–æ_—Å–∫–∏–¥–∫–æ–π')
        }),
        ('–î–µ—Ç–∞–ª–∏', {
            'fields': ('–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ', '–≤–µ—Å_–æ–±—ä–µ–º', '—Å–æ—Å—Ç–∞–≤', '–ø–∏—â–µ–≤–∞—è_—Ü–µ–Ω–Ω–æ—Å—Ç—å')
        }),
        ('–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ', {
            'fields': ('–≤—Ä–µ–º—è_–ø—Ä–∏–≥–æ—Ç–æ–≤–ª–µ–Ω–∏—è', '—É—Ä–æ–≤–µ–Ω—å_–æ—Å—Ç—Ä–æ—Ç—ã', '—Ç–µ–≥–∏')
        }),
        ('–°—Ç–∞—Ç—É—Å', {
            'fields': ('–∞–∫—Ç–∏–≤–Ω–æ', '–ø–æ–ø—É–ª—è—Ä–Ω–æ—Å—Ç—å', '—Å–æ–∑–¥–∞–Ω–æ', '–æ–±–Ω–æ–≤–ª–µ–Ω–æ')
        }),
    )

    def —Ç–µ–∫—É—â–∞—è_—Ü–µ–Ω–∞(self, obj):
        if obj.–∞–∫—Ü–∏—è and obj.—Ü–µ–Ω–∞_—Å–æ_—Å–∫–∏–¥–∫–æ–π:
            return format_html(
                '<span style="color: #e17055; font-weight: bold;">{} ‚ÇΩ</span> '
                '<span style="text-decoration: line-through; color: #999;">{} ‚ÇΩ</span>',
                obj.—Ü–µ–Ω–∞_—Å–æ_—Å–∫–∏–¥–∫–æ–π, obj.—Ü–µ–Ω–∞
            )
        return format_html('<span style="color: #2d3436;">{} ‚ÇΩ</span>', obj.—Ü–µ–Ω–∞)

    —Ç–µ–∫—É—â–∞—è_—Ü–µ–Ω–∞.short_description = '–¶–µ–Ω–∞'


class –≠–ª–µ–º–µ–Ω—Ç–ó–∞–∫–∞–∑–∞Inline(admin.TabularInline):
    model = –≠–ª–µ–º–µ–Ω—Ç–ó–∞–∫–∞–∑–∞
    readonly_fields = ['–±–ª—é–¥–æ', '–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ', '—Ü–µ–Ω–∞_–Ω–∞_–º–æ–º–µ–Ω—Ç', '–ø–æ–¥–∏—Ç–æ–≥']
    extra = 0

    def –ø–æ–¥–∏—Ç–æ–≥(self, obj):
        return f"{obj.–ø–æ–¥–∏—Ç–æ–≥} ‚ÇΩ"

    –ø–æ–¥–∏—Ç–æ–≥.short_description = '–°—É–º–º–∞'


@admin.register(–ó–∞–∫–∞–∑)
class –ó–∞–∫–∞–∑Admin(admin.ModelAdmin):
    list_display = ['id', '–∏–º—è_–∫–ª–∏–µ–Ω—Ç–∞', '—Ç–µ–ª–µ—Ñ–æ–Ω', '–æ–±—â–∞—è_—Å—É–º–º–∞', '—Å—Ç–∞—Ç—É—Å', '—Å–æ–∑–¥–∞–Ω–æ']
    list_filter = ['—Å—Ç–∞—Ç—É—Å', '—Å–ø–æ—Å–æ–±_–æ–ø–ª–∞—Ç—ã', '—Å–æ–∑–¥–∞–Ω–æ']
    search_fields = ['–∏–º—è_–∫–ª–∏–µ–Ω—Ç–∞', '—Ç–µ–ª–µ—Ñ–æ–Ω', '–∞–¥—Ä–µ—Å']
    list_editable = ['—Å—Ç–∞—Ç—É—Å']
    readonly_fields = ['—Å–æ–∑–¥–∞–Ω–æ', '–æ–±–Ω–æ–≤–ª–µ–Ω–æ']
    inlines = [–≠–ª–µ–º–µ–Ω—Ç–ó–∞–∫–∞–∑–∞Inline]


@admin.register(–ö–æ—Ä–∑–∏–Ω–∞)
class –ö–æ—Ä–∑–∏–Ω–∞Admin(admin.ModelAdmin):
    list_display = ['–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å', '–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ_–ø–æ–∑–∏—Ü–∏–π', '–æ–±—â–∞—è_—Å—É–º–º–∞', '—Å–æ–∑–¥–∞–Ω–æ']
    readonly_fields = ['—Å–æ–∑–¥–∞–Ω–æ', '–æ–±–Ω–æ–≤–ª–µ–Ω–æ']

    def –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ_–ø–æ–∑–∏—Ü–∏–π(self, obj):
        return obj.—ç–ª–µ–º–µ–Ω—Ç—ã.count()

    –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ_–ø–æ–∑–∏—Ü–∏–π.short_description = '–ü–æ–∑–∏—Ü–∏–π'

    def –æ–±—â–∞—è_—Å—É–º–º–∞(self, obj):
        return f"{obj.–æ–±—â–∞—è_—Å—É–º–º–∞} ‚ÇΩ"

    –æ–±—â–∞—è_—Å—É–º–º–∞.short_description = '–°—É–º–º–∞'


@admin.register(–û—Ç–∑—ã–≤)
class –û—Ç–∑—ã–≤Admin(admin.ModelAdmin):
    list_display = ['–±–ª—é–¥–æ', '–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å', '—Ä–µ–π—Ç–∏–Ω–≥', '—Å–æ–∑–¥–∞–Ω–æ']
    list_filter = ['—Ä–µ–π—Ç–∏–Ω–≥', '—Å–æ–∑–¥–∞–Ω–æ']
    search_fields = ['–±–ª—é–¥–æ__–Ω–∞–∑–≤–∞–Ω–∏–µ', '–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å__username', '–∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π']
    readonly_fields = ['—Å–æ–∑–¥–∞–Ω–æ', '–æ–±–Ω–æ–≤–ª–µ–Ω–æ']


@admin.register(–ò–∑–±—Ä–∞–Ω–Ω–æ–µ)
class –ò–∑–±—Ä–∞–Ω–Ω–æ–µAdmin(admin.ModelAdmin):
    list_display = ['–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å', '–±–ª—é–¥–æ', '–¥–æ–±–∞–≤–ª–µ–Ω–æ']
    list_filter = ['–¥–æ–±–∞–≤–ª–µ–Ω–æ']
    search_fields = ['–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å__username', '–±–ª—é–¥–æ__–Ω–∞–∑–≤–∞–Ω–∏–µ']


@admin.register(–ü—Ä–æ—Ñ–∏–ª—å)
class –ü—Ä–æ—Ñ–∏–ª—åAdmin(admin.ModelAdmin):
    list_display = ['–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å', '—Ç–µ–ª–µ—Ñ–æ–Ω', '—Å–æ–∑–¥–∞–Ω–æ']
    search_fields = ['–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å__username', '—Ç–µ–ª–µ—Ñ–æ–Ω', '–∞–¥—Ä–µ—Å']
    readonly_fields = ['—Å–æ–∑–¥–∞–Ω–æ', '–æ–±–Ω–æ–≤–ª–µ–Ω–æ']


@admin.register(–ü—Ä–æ–º–æ–∫–æ–¥)
class –ü—Ä–æ–º–æ–∫–æ–¥Admin(admin.ModelAdmin):
    list_display = ['–∫–æ–¥', '—Å–∫–∏–¥–∫–∞', '–º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è_—Å—É–º–º–∞', '–∞–∫—Ç–∏–≤–Ω–æ', '—Å—Ä–æ–∫_–¥–µ–π—Å—Ç–≤–∏—è', '–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–æ']
    list_filter = ['–∞–∫—Ç–∏–≤–Ω–æ', '—Å—Ä–æ–∫_–¥–µ–π—Å—Ç–≤–∏—è']
    list_editable = ['–∞–∫—Ç–∏–≤–Ω–æ', '—Å–∫–∏–¥–∫–∞']
    search_fields = ['–∫–æ–¥', '–æ–ø–∏—Å–∞–Ω–∏–µ']

    def –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω(self, obj):
        from django.utils import timezone
        return obj.–∞–∫—Ç–∏–≤–Ω–æ and obj.—Å—Ä–æ–∫_–¥–µ–π—Å—Ç–≤–∏—è > timezone.now()

    –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω.boolean = True
    –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω.short_description = '–î–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω'


admin.site.site_header = "üç∑ –≠–ø–∏–∫—É—Ä–µ–π - –ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è"
admin.site.site_title = "–≠–ø–∏–∫—É—Ä–µ–π –ê–¥–º–∏–Ω"
admin.site.index_title = "–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–µ—Å—Ç–æ—Ä–∞–Ω–æ–º"